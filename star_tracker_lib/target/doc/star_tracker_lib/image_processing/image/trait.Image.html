<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Image accessors, investigation and modification."><title>Image in star_tracker_lib::image_processing::image - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-cb6f1f67f1bcd037.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="star_tracker_lib" data-themes="" data-resource-suffix="" data-rustdoc-version="1.73.0-nightly (8771282d4 2023-07-23)" data-channel="nightly" data-search-js="search-6dfdfced5eff6596.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-6d2c9675f3d09c26.css" data-theme-dark-css="dark-45ceb8f2e522f4d1.css" data-theme-ayu-css="ayu-fd19013d6ce078bf.css" ><script src="../../../static.files/storage-db41da1a38ea3cb8.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../../static.files/light-6d2c9675f3d09c26.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../../static.files/dark-45ceb8f2e522f4d1.css"><link rel="stylesheet" href="../../../static.files/noscript-cffde32267a19fd6.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../../star_tracker_lib/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../../star_tracker_lib/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Image</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.get">get</a></li><li><a href="#tymethod.height">height</a></li><li><a href="#tymethod.set">set</a></li><li><a href="#tymethod.width">width</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.copy_to">copy_to</a></li><li><a href="#method.histogram">histogram</a></li><li><a href="#method.reset">reset</a></li><li><a href="#method.valid_pixel">valid_pixel</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In star_tracker_lib::image_processing::image</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../../index.html">star_tracker_lib</a>::<wbr><a href="../index.html">image_processing</a>::<wbr><a href="index.html">image</a>::<wbr><a class="trait" href="#">Image</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../../src/star_tracker_lib/image_processing/image.rs.html#18-168">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait Image {
    // Required methods
    fn <a href="#tymethod.get" class="fn">get</a>(&amp;self, px: <a class="type" href="../../util/units/type.Pixel.html" title="type star_tracker_lib::util::units::Pixel">Pixel</a>) -&gt; <a class="type" href="../../util/aliases/type.Byte.html" title="type star_tracker_lib::util::aliases::Byte">Byte</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.set" class="fn">set</a>(&amp;mut self, px: <a class="type" href="../../util/units/type.Pixel.html" title="type star_tracker_lib::util::units::Pixel">Pixel</a>, value: <a class="type" href="../../util/aliases/type.Byte.html" title="type star_tracker_lib::util::aliases::Byte">Byte</a>);
<span class="item-spacer"></span>    fn <a href="#tymethod.width" class="fn">width</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.height" class="fn">height</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>;

    // Provided methods
    fn <a href="#method.reset" class="fn">reset</a>(&amp;mut self) { ... }
<span class="item-spacer"></span>    fn <a href="#method.valid_pixel" class="fn">valid_pixel</a>(&amp;self, px: <a class="type" href="../../util/units/type.Pixel.html" title="type star_tracker_lib::util::units::Pixel">Pixel</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.histogram" class="fn">histogram</a>(&amp;self, histogram: &amp;mut [<a class="type" href="../../util/aliases/type.UInt.html" title="type star_tracker_lib::util::aliases::UInt">UInt</a>]) -&gt; <a class="type" href="../../util/err/type.Error.html" title="type star_tracker_lib::util::err::Error">Error</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.copy_to" class="fn">copy_to</a>(&amp;self, to: &amp;mut dyn <a class="trait" href="trait.Image.html" title="trait star_tracker_lib::image_processing::image::Image">Image</a>) -&gt; <a class="type" href="../../util/err/type.Error.html" title="type star_tracker_lib::util::err::Error">Error</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt; { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Image accessors, investigation and modification.</p>
<p>Allows for external image packages to be wrapped and new image methods to be investigated.
(This is ultimately just to stop requiring generic arguments as consts in generic is too new).</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.get" class="method"><a class="src rightside" href="../../../src/star_tracker_lib/image_processing/image.rs.html#23">source</a><h4 class="code-header">fn <a href="#tymethod.get" class="fn">get</a>(&amp;self, px: <a class="type" href="../../util/units/type.Pixel.html" title="type star_tracker_lib::util::units::Pixel">Pixel</a>) -&gt; <a class="type" href="../../util/aliases/type.Byte.html" title="type star_tracker_lib::util::aliases::Byte">Byte</a></h4></section></summary><div class="docblock"><p>Returns the pixel value at the current position.</p>
<h5 id="arguments"><a href="#arguments">Arguments</a></h5>
<ul>
<li><code>px</code> -  The pixel to modify.</li>
</ul>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.set" class="method"><a class="src rightside" href="../../../src/star_tracker_lib/image_processing/image.rs.html#29">source</a><h4 class="code-header">fn <a href="#tymethod.set" class="fn">set</a>(&amp;mut self, px: <a class="type" href="../../util/units/type.Pixel.html" title="type star_tracker_lib::util::units::Pixel">Pixel</a>, value: <a class="type" href="../../util/aliases/type.Byte.html" title="type star_tracker_lib::util::aliases::Byte">Byte</a>)</h4></section></summary><div class="docblock"><p>Sets the pixel value at the current position.</p>
<h5 id="arguments-1"><a href="#arguments-1">Arguments</a></h5>
<ul>
<li><code>px</code>     - The pixel to modify.</li>
<li><code>value</code> - The value to set.</li>
</ul>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.width" class="method"><a class="src rightside" href="../../../src/star_tracker_lib/image_processing/image.rs.html#34">source</a><h4 class="code-header">fn <a href="#tymethod.width" class="fn">width</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></h4></section></summary><div class="docblock"><p>Returns the width of the image.</p>
<h5 id="returns"><a href="#returns">Returns</a></h5>
<p>The width of the image.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.height" class="method"><a class="src rightside" href="../../../src/star_tracker_lib/image_processing/image.rs.html#39">source</a><h4 class="code-header">fn <a href="#tymethod.height" class="fn">height</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></h4></section></summary><div class="docblock"><p>Returns the height of the image.</p>
<h5 id="returns-1"><a href="#returns-1">Returns</a></h5>
<p>The height of the image.</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.reset" class="method"><a class="src rightside" href="../../../src/star_tracker_lib/image_processing/image.rs.html#58-67">source</a><h4 class="code-header">fn <a href="#method.reset" class="fn">reset</a>(&amp;mut self)</h4></section></summary><div class="docblock"><p>Sets all the pixels to 0.
(Allows you to reuse the same image).</p>
<h5 id="example"><a href="#example">Example</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>star_tracker_lib::util::units::Pixel;
<span class="kw">use </span>star_tracker_lib::image_processing::BasicImage;
<span class="kw">use </span>star_tracker_lib::image_processing::Image;

<span class="kw">let </span><span class="kw-2">mut </span>img : BasicImage&lt;<span class="number">3</span>, <span class="number">3</span>&gt; = BasicImage::new();
img.set(Pixel{x: <span class="number">0</span>, y: <span class="number">0</span>}, <span class="number">10</span>);
img.set(Pixel{x: <span class="number">2</span>, y: <span class="number">0</span>}, <span class="number">20</span>);
img.set(Pixel{x: <span class="number">0</span>, y: <span class="number">2</span>}, <span class="number">32</span>);
img.set(Pixel{x: <span class="number">0</span>, y: <span class="number">1</span>}, <span class="number">43</span>);

img.reset(); <span class="comment">// All the pixels are now 0.</span></code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.valid_pixel" class="method"><a class="src rightside" href="../../../src/star_tracker_lib/image_processing/image.rs.html#75-76">source</a><h4 class="code-header">fn <a href="#method.valid_pixel" class="fn">valid_pixel</a>(&amp;self, px: <a class="type" href="../../util/units/type.Pixel.html" title="type star_tracker_lib::util::units::Pixel">Pixel</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>True if the get/set will not cause a panic.</p>
<h5 id="arguments-2"><a href="#arguments-2">Arguments</a></h5>
<ul>
<li><code>px</code> - The pixel to modify.</li>
</ul>
<h5 id="returns-2"><a href="#returns-2">Returns</a></h5>
<p>True if access is safe.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.histogram" class="method"><a class="src rightside" href="../../../src/star_tracker_lib/image_processing/image.rs.html#103-122">source</a><h4 class="code-header">fn <a href="#method.histogram" class="fn">histogram</a>(&amp;self, histogram: &amp;mut [<a class="type" href="../../util/aliases/type.UInt.html" title="type star_tracker_lib::util::aliases::UInt">UInt</a>]) -&gt; <a class="type" href="../../util/err/type.Error.html" title="type star_tracker_lib::util::err::Error">Error</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Generates a brightness histogram of the image.</p>
<h5 id="arguments-3"><a href="#arguments-3">Arguments</a></h5>
<ul>
<li><code>histogram</code> - The histogram to fill, must have a size &gt; 0 &amp;&amp; &lt; 256.</li>
</ul>
<h5 id="example-1"><a href="#example-1">Example</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>star_tracker_lib::image_processing::BasicImage;
<span class="kw">use </span>star_tracker_lib::image_processing::Image;
<span class="kw">use </span>star_tracker_lib::util::aliases::UInt;
<span class="kw">use </span>star_tracker_lib::util::aliases::Byte;
<span class="kw">use </span>star_tracker_lib::util::units::Pixel;
<span class="kw">let </span><span class="kw-2">mut </span>img : BasicImage&lt;<span class="number">3</span>, <span class="number">3</span>&gt; = BasicImage::new();
<span class="kw">let </span><span class="kw-2">mut </span>hist : [UInt; Byte::max_value() <span class="kw">as </span>usize + <span class="number">1</span>] = [<span class="number">0</span>; Byte::MAX <span class="kw">as </span>usize + <span class="number">1</span>];
img.set(Pixel{x: <span class="number">0</span>, y: <span class="number">0</span>}, <span class="number">10</span>);
img.set(Pixel{x: <span class="number">2</span>, y: <span class="number">0</span>}, <span class="number">20</span>);
img.set(Pixel{x: <span class="number">0</span>, y: <span class="number">2</span>}, <span class="number">32</span>);
img.set(Pixel{x: <span class="number">0</span>, y: <span class="number">1</span>}, <span class="number">43</span>);

img.histogram(<span class="kw-2">&amp;mut </span>hist);
<span class="macro">assert_eq!</span>(hist[<span class="number">0</span>], <span class="number">5</span>);
<span class="macro">assert_eq!</span>(hist[<span class="number">10</span>], <span class="number">1</span>);
<span class="macro">assert_eq!</span>(hist[<span class="number">20</span>], <span class="number">1</span>);
<span class="macro">assert_eq!</span>(hist[<span class="number">32</span>], <span class="number">1</span>);
<span class="macro">assert_eq!</span>(hist[<span class="number">43</span>], <span class="number">1</span>);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.copy_to" class="method"><a class="src rightside" href="../../../src/star_tracker_lib/image_processing/image.rs.html#151-167">source</a><h4 class="code-header">fn <a href="#method.copy_to" class="fn">copy_to</a>(&amp;self, to: &amp;mut dyn <a class="trait" href="trait.Image.html" title="trait star_tracker_lib::image_processing::image::Image">Image</a>) -&gt; <a class="type" href="../../util/err/type.Error.html" title="type star_tracker_lib::util::err::Error">Error</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Copies an image over to another image.
The is mainly for nix.
This can be useful to duplicate an image before blob detection.</p>
<h5 id="arguments-4"><a href="#arguments-4">Arguments</a></h5>
<ul>
<li><code>to</code> - The image to be overwritten.</li>
</ul>
<h5 id="returns-3"><a href="#returns-3">Returns</a></h5>
<p>Error if invalid.</p>
<h5 id="example-2"><a href="#example-2">Example</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>star_tracker_lib::util::units::Pixel;
<span class="kw">use </span>star_tracker_lib::image_processing::BasicImage;
<span class="kw">use </span>star_tracker_lib::image_processing::Image;

<span class="kw">let </span><span class="kw-2">mut </span>from: BasicImage&lt;<span class="number">2</span>, <span class="number">2</span>&gt; = BasicImage::new();
from.set(Pixel{x: <span class="number">0</span>, y: <span class="number">0</span>}, <span class="number">1</span>);
from.set(Pixel{x: <span class="number">0</span>, y: <span class="number">1</span>}, <span class="number">2</span>);
from.set(Pixel{x: <span class="number">1</span>, y: <span class="number">0</span>}, <span class="number">3</span>);
from.set(Pixel{x: <span class="number">1</span>, y: <span class="number">1</span>}, <span class="number">4</span>);
<span class="kw">let </span><span class="kw-2">mut </span>to: BasicImage&lt;<span class="number">2</span>, <span class="number">2</span>&gt; = BasicImage::new();
<span class="macro">assert!</span>(from.copy_to(<span class="kw-2">&amp;mut </span>to).is_ok());
<span class="macro">assert_eq!</span>(to.get(Pixel{x: <span class="number">0</span>, y: <span class="number">0</span>}), from.get(Pixel{x: <span class="number">0</span>, y: <span class="number">0</span>}));
<span class="macro">assert_eq!</span>(to.get(Pixel{x: <span class="number">0</span>, y: <span class="number">1</span>}), from.get(Pixel{x: <span class="number">0</span>, y: <span class="number">1</span>}));
<span class="macro">assert_eq!</span>(to.get(Pixel{x: <span class="number">1</span>, y: <span class="number">0</span>}), from.get(Pixel{x: <span class="number">1</span>, y: <span class="number">0</span>}));
<span class="macro">assert_eq!</span>(to.get(Pixel{x: <span class="number">1</span>, y: <span class="number">1</span>}), from.get(Pixel{x: <span class="number">1</span>, y: <span class="number">1</span>}));</code></pre></div>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-Image-for-BasicImage%3CWIDTH,+HEIGHT%3E" class="impl"><a class="src rightside" href="../../../src/star_tracker_lib/image_processing/basic_image.rs.html#26-92">source</a><a href="#impl-Image-for-BasicImage%3CWIDTH,+HEIGHT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;const WIDTH: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, const HEIGHT: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt; <a class="trait" href="trait.Image.html" title="trait star_tracker_lib::image_processing::image::Image">Image</a> for <a class="struct" href="../struct.BasicImage.html" title="struct star_tracker_lib::image_processing::BasicImage">BasicImage</a>&lt;WIDTH, HEIGHT&gt;</h3></section></div><script src="../../../implementors/star_tracker_lib/image_processing/image/trait.Image.js" async></script></section></div></main></body></html>